[gd_scene load_steps=13 format=3 uid="uid://dxwoxio674kr7"]

[ext_resource type="PackedScene" uid="uid://dv81swjibar3c" path="res://Scenes/parallax_background.tscn" id="1_3b8vd"]
[ext_resource type="Script" path="res://Scenes/world.gd" id="1_yl1dh"]
[ext_resource type="PackedScene" uid="uid://ykihvlu1ew8a" path="res://Scenes/player.tscn" id="3_eiu3v"]
[ext_resource type="Script" path="res://Scripts/ResourceDiscoveries.cs" id="4_egxe6"]
[ext_resource type="PackedScene" uid="uid://c410fmb2oa282" path="res://Scenes/resource_template-GoldMine.tscn" id="4_ikssv"]
[ext_resource type="PackedScene" uid="uid://btwxpde08w643" path="res://Scenes/resource_template-IronMine.tscn" id="5_y1y6w"]
[ext_resource type="PackedScene" uid="uid://3ug8x7bl8jwu" path="res://Scenes/resource_template-ManaWell.tscn" id="7_h85bg"]
[ext_resource type="PackedScene" uid="uid://ctcv7jmln8o34" path="res://Scenes/resource_template-Wood.tscn" id="8_6fy56"]
[ext_resource type="PackedScene" uid="uid://bhl4p70uusacn" path="res://Scenes/fps.tscn" id="10_2xbt4"]
[ext_resource type="PackedScene" path="res://Scenes/gui.tscn" id="10_px18i"]

[sub_resource type="Environment" id="Environment_h8lsd"]
background_mode = 3
tonemap_mode = 3
glow_enabled = true
glow_intensity = 1.0
glow_bloom = 0.02
glow_blend_mode = 1
glow_hdr_threshold = 0.01
glow_hdr_scale = 1.0
glow_hdr_luminance_cap = 0.1
adjustment_enabled = true

[sub_resource type="Curve2D" id="Curve2D_obham"]
_data = {
"points": PackedVector2Array(41.38, -3.3371, -41.38, 3.3371, 1063, 588, 0, 0, 0, 0, -1026, 583, 0, 0, 0, 0, -1030, -616, 0, 0, 0, 0, 1061, -613, -0.0278406, -3.9812, 0.0278406, 3.9812, 1063, 588)
}
point_count = 5

[node name="World" type="Node2D"]
script = ExtResource("1_yl1dh")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h8lsd")

[node name="FPS" parent="." instance=ExtResource("10_2xbt4")]

[node name="ParallaxBackground" parent="." instance=ExtResource("1_3b8vd")]
scale = Vector2(1, 1)
transform = Transform2D(1, 0, 0, 1, 0, 0)

[node name="ResourceDiscoveries" type="Node2D" parent="."]
y_sort_enabled = true
position = Vector2(-2, -2)
script = ExtResource("4_egxe6")
rTemplateIronMine = ExtResource("5_y1y6w")
rTemplateGoldMine = ExtResource("4_ikssv")
rTemplateManaWell = ExtResource("7_h85bg")
rTemplateWood = ExtResource("8_6fy56")
gridSizeX = 10
gridSizeY = 10
resourcesPerCell = 2
resourceUpdateFreq = 60

[node name="Timer" type="Timer" parent="ResourceDiscoveries"]

[node name="WorldEnvironment2" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h8lsd")

[node name="EnemyTimer" type="Timer" parent="."]
wait_time = 0.5
autostart = true

[node name="Player" parent="." instance=ExtResource("3_eiu3v")]
texture_filter = 1
scale = Vector2(0.5, 0.5)
Speed = 300
DashSpeed = 1200.0
DashDuration = 0.3

[node name="AttackRange" parent="Player" index="4"]
position = Vector2(0, -96)

[node name="ShootingPoint" parent="Player/AttackRange" index="1"]
position = Vector2(-2, 0)

[node name="Path2D" type="Path2D" parent="Player"]
curve = SubResource("Curve2D_obham")

[node name="EnemySpawnPath" type="PathFollow2D" parent="Player/Path2D"]
unique_name_in_owner = true
position = Vector2(1063, 588)
rotation = 3.06112

[node name="GUI" parent="." instance=ExtResource("10_px18i")]

[connection signal="timeout" from="ResourceDiscoveries/Timer" to="ResourceDiscoveries" method="OnTimer"]
[connection signal="timeout" from="EnemyTimer" to="." method="_on_enemy_timer_timeout"]

[editable path="Player"]
[editable path="Player/AttackRange"]
